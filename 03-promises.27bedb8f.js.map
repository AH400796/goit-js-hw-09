{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,KAAEC,EAAIC,WAAEC,EAAUC,UAAEC,EAASC,YAAEC,GAAgB,CACnDP,KAAMQ,SAASC,cAAc,SAC7BP,WAAYM,SAASC,cAAc,kBACnCL,UAAWI,SAASC,cAAc,iBAClCH,YAAaE,SAASC,cAAc,oBAEtC,IAAIC,EAAQ,KACRC,EAAO,KACPC,EAAS,KA2Bb,SAASC,EAAcC,EAAUC,GACf,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAQ,CAAEM,SAAAT,EAAUU,MAAAT,IAEpBG,EAAO,CAAEK,SAAAT,EAAUU,MAAAT,GAAQ,GAE5BA,EAAM,IAIRU,MAAK,EAACF,SAAEA,EAAUC,MAAAE,MACjBC,EAAA7B,GAAS8B,OAAOC,QAAQ,qBAAqBN,QAAeG,MAAU,IAEvEI,OAAM,EAACP,SAAEA,EAAUC,MAAAO,MAClBJ,EAAA7B,GAAS8B,OAAOI,QAAQ,oBAAoBT,QAAeQ,MAAU,G,CA1C3E5B,EAAW8B,iBAAiB,SAK5B,SAAsBC,GACpBxB,EAAQyB,OAAOD,EAAME,OAAOC,OAC5BC,aAAaC,QAAQ,cAAe7B,E,IANtCL,EAAU4B,iBAAiB,SAQ3B,SAAqBC,GACnBvB,EAAOwB,OAAOD,EAAME,OAAOC,M,IAR7B9B,EAAY0B,iBAAiB,SAU7B,SAAuBC,GACrBtB,EAASuB,OAAOD,EAAME,OAAOC,M,IAV/BpC,EAAKgC,iBAAiB,UAatB,SAAkBC,GAChBA,EAAMM,iBACN,IAAK,IAAIC,EAAI,EAAGA,GAAK7B,EAAQ6B,GAAK,EAChC5B,EAAc4B,EAAG/B,GACjBA,GAASC,EAEXD,EAAQyB,OAAOG,aAAaI,QAAQ,e","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst { form, delayInput, stepInput, amountInput } = {\n  form: document.querySelector('.form'),\n  delayInput: document.querySelector('[name=\"delay\"]'),\n  stepInput: document.querySelector('[name=\"step\"]'),\n  amountInput: document.querySelector('[name=\"amount\"]'),\n};\nlet delay = null;\nlet step = null;\nlet amount = null;\n\ndelayInput.addEventListener('input', onInputDelay);\nstepInput.addEventListener('input', onInputStep);\namountInput.addEventListener('input', onInputAmount);\nform.addEventListener('submit', onSubmit);\n\nfunction onInputDelay(event) {\n  delay = Number(event.target.value);\n  localStorage.setItem('first delay', delay);\n}\nfunction onInputStep(event) {\n  step = Number(event.target.value);\n}\nfunction onInputAmount(event) {\n  amount = Number(event.target.value);\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  for (let i = 1; i <= amount; i += 1) {\n    createPromise(i, delay);\n    delay += step;\n  }\n  delay = Number(localStorage.getItem('first delay'));\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    });\n}\n"],"names":["$eWCmQ","parcelRequire","form","$47d4ff9957288465$var$form","delayInput","$47d4ff9957288465$var$delayInput","stepInput","$47d4ff9957288465$var$stepInput","amountInput","$47d4ff9957288465$var$amountInput","document","querySelector","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$createPromise","position1","delay1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","position","delay","then","delay2","$parcel$interopDefault","Notify","success","catch","delay3","failure","addEventListener","event","Number","target","value","localStorage","setItem","preventDefault","i","getItem"],"version":3,"file":"03-promises.27bedb8f.js.map"}